<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>THAZHVARAM</title>
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #f5f5f5;
      }
      .container {
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      img {
        max-width: 100%;
        max-height: 100%;
        height: auto;
        width: auto;
      }
      .tooltip {
        position: absolute;
        /* bottom: 15%; */
        left: 50%;
        transform: translate(-50%, -30%);
        display: none;
        background-color: #fff;
        border: 1px solid #ddd;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 1rem;
        z-index: 10;
        width: 280px;
        text-align: center;
        pointer-events: none;
        border-radius: 8px;
        max-width: 90vw; /* Prevent overflow on very small screens */
      }

      /* Small screens (phones) */
      @media (max-width: 480px) {
        .tooltip {
          width: 40vw;
          padding: 0.75rem;
        }
        .tooltip h4 {
          margin: 0.5rem 0 0;
          font-size: 1rem;
        }
      }

      /* Medium screens (tablets) */
      @media (min-width: 481px) {
        .tooltip {
          width: 300px;
          padding: 1rem;
        }
        .tooltip h4 {
          margin: 0.5rem 0 0;
          font-size: 1.5rem;
        }
      }

      /* Large screens (desktops and above)
      @media (min-width: 769px) {
        .tooltip {
          width: 320px;
          padding: 1.2rem;
        }
      } */

      .tooltip img {
        width: 100%;
        height: auto;
        border-radius: 5px;
      }
      #tooltip-image {
        transition: opacity 0.5s ease-in-out;
        opacity: 1;
      }
      #tooltip-image.hidden {
        opacity: 0;
      }

      .spinner {
        width: 30px;
        height: 30px;
        border: 4px solid rgba(0, 0, 0, 0.1);
        border-top: 4px solid #004aad;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: auto;
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <img
        src="images/Thazhavarem.jpg"
        usemap="#peoplemap"
        alt="Group Photo"
        id="groupPhoto"
      />
      <map name="peoplemap" id="peoplemap">
        <!-- Example areas with estimated percentages (can be adjusted manually for precision) -->
      </map>
      <div id="tooltip" class="tooltip">
        <div class="spinner" id="tooltip-spinner"></div>
        <img
          src=""
          alt="..."
          id="tooltip-image"
          style="display: none"
        />
        <h4 id="tooltip-name">Student Name</h4>
      </div>
    </div>

    <!-- Responsive image map script -->
    <script src="https://cdn.jsdelivr.net/npm/image-map-resizer@1.0.10/js/imageMapResizer.min.js"></script>
    <script>
      window.addEventListener("load", () => {
        imageMapResize();
      });
    </script>
    <script>
      const studentData = [
        {
          imageUrl: [
            "./images/DEEPU.JPG",
            "./images/DEEPU1.jpg",
            "./images/DEEPU2.jpg",
          ],
          name: "DEEPU JOSEPH",
          id: "1",
          coords:
            "315,3991,326,3970,347,3668,331,3631,326,3589,323,3528,326,3440,326,3371,328,3326,310,3313,315,3271,342,3231,347,3202,379,3138,408,3107,442,3101,485,3093,506,3072,506,3046,488,3013,488,2983,484,2945,484,2911,509,2890,543,2874,568,2869,606,2886,623,2903,635,2924,640,2949,627,2979,627,3000,610,3046,606,3076,631,3097,656,3105,682,3118,711,3135,715,3164,699,3181,682,3207,673,3236,661,3274,635,3312,644,3333,640,3354,635,3379,635,3405,627,3443,627,3481,640,3514,644,3556,635,3590,631,3632,631,3662,652,3695,669,3733,661,3767,661,3813,661,3843,661,3877,665,3936,665,3978,644,3995,543,3991,593,3995,509,3999,383,3999",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/SUSMITH.JPG",
            "./images/SUSMITH1.JPG",
            "./images/SUSMITH2.jpg",
            "./images/SUSMITH3.jpg",
          ],
          name: "SUSMITH",
          id: "2",
          coords:
            "681,3982,673,3942,689,3844,686,3767,686,3701,681,3669,660,3658,649,3642,655,3613,657,3560,649,3518,639,3470,644,3399,647,3322,655,3264,686,3195,713,3158,739,3139,774,3121,803,3115,830,3107,832,3081,832,3049,832,3023,832,3001,827,2962,851,2946,883,2927,914,2922,936,2933,965,2948,983,2967,986,2996,975,3017,965,3038,962,3065,957,3081,946,3107,930,3132,930,3145,943,3150,970,3145,975,3164,972,3188,972,3283,962,3333,954,3376,954,3410,948,3429,956,3450,962,3513,962,3569,959,3603,954,3630,954,3646,959,3670,967,3686,972,3707,972,3739,962,3823,946,3876,935,3956,927,3993,914,3998,694,3995",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/ANANDHU.JPG",
            "./images/ANANDHU1.jpg",
            "./images/ANANDHU2.JPG",
            "./images/ANANDHU3.jpg",
          ],
          name: "ANANDHU S KUMAR",
          id: "3",
          coords:
            "980,3991,994,3885,991,3848,986,3813,994,3763,1004,3721,994,3699,972,3694,954,3660,951,3625,956,3601,964,3586,959,3559,962,3517,956,3445,948,3427,972,3156,991,3127,1001,3119,1004,3140,1007,3162,1015,3178,1028,3186,1041,3186,1060,3186,1078,3180,1084,3162,1084,3133,1073,3111,1076,3093,1097,3085,1113,3074,1118,3053,1126,3016,1107,3011,1107,2987,1113,2966,1107,2931,1115,2907,1137,2881,1158,2870,1184,2865,1213,2868,1229,2881,1248,2889,1261,2913,1253,2931,1259,2950,1245,2960,1240,2979,1243,3003,1227,3032,1216,3048,1216,3077,1224,3095,1240,3111,1253,3127,1269,3151,1285,3188,1293,3215,1293,3246,1282,3276,1285,3318,1285,3360,1288,3397,1282,3429,1288,3469,1293,3488,1293,3517,1296,3540,1288,3562,1285,3580,1282,3639,1266,3694,1248,3747,1229,3805,1232,3853,1221,3917,1216,3959,1219,3991",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/AMITH.JPG",
            "./images/AMITH1.jpg",
            "./images/AMITH2.JPG",
            "./images/AMITH3.jpg",
            "./images/AMITH4.JPG",
            "./images/AMITH5.jpg",
          ],
          name: "AMITH SIJU",
          id: "4",
          coords:
            "1004,3129,1001,3145,1009,3161,1014,3177,1030,3180,1054,3182,1073,3174,1078,3158,1078,3137,1059,3090,1078,3084,1099,3084,1123,3052,1110,3037,1078,3047,1051,3063,1025,3076,1009,3097",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/AMITH.JPG",
            "./images/AMITH1.jpg",
            "./images/AMITH2.JPG",
            "./images/AMITH3.jpg",
            "./images/AMITH4.JPG",
            "./images/AMITH5.jpg",
          ],
          name: "AMITH SIJU",
          id: "41",
          coords:
            "1354,2947,1351,2971,1356,2987,1372,2994,1372,3018,1372,3034,1351,3045,1314,3045,1282,3034,1250,3034,1229,3042,1213,3061,1224,3093,1242,3106,1250,3130,1269,3151,1282,3180,1293,3209,1301,3259,1298,3286,1306,3318,1303,3347,1298,3387,1298,3424,1301,3453,1298,3498,1298,3524,1287,3569,1285,3641,1271,3702,1279,3760,1282,3829,1266,3898,1266,3961,1261,3993,1558,3998,1555,3969,1560,3924,1566,3871,1571,3821,1582,3736,1589,3667,1582,3593,1582,3543,1576,3479,1576,3440,1576,3394,1576,3310,1571,3251,1571,3196,1568,3143,1576,3111,1600,3100,1632,3077,1648,3055,1650,3032,1637,3013,1616,3013,1595,3021,1566,3024,1539,3024,1510,3018,1502,3029,1471,3021,1486,3008,1500,2989,1508,2968,1513,2944,1526,2920,1524,2889,1505,2862,1489,2854,1452,2838,1415,2828,1380,2833,1359,2862,1343,2889,1327,2918",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/AMITH.JPG",
            "./images/AMITH1.jpg",
            "./images/AMITH2.JPG",
            "./images/AMITH3.jpg",
            "./images/AMITH4.JPG",
            "./images/AMITH5.jpg",
          ],
          name: "AMITH SIJU",
          id: "42",
          coords:
            "1754,2997,1767,2989,1786,2986,1799,2989,1818,3010,1834,3018,1852,3023,1865,3037,1881,3060,1887,3082,1887,3103,1871,3113,1844,3119,1820,3127,1815,3095,1820,3066,1804,3047,1778,3037,1757,3018",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/RAHUL.JPG",
            "./images/RAHUL1.JPG",
            "./images/RAHUL2.jpg",
            "./images/RAHUL3.jpg",
          ],
          name: "RAHUL K J",
          id: "5",
          coords:
            "1860,3984,1860,3950,1854,3905,1852,3870,1852,3815,1860,3778,1862,3727,1862,3658,1862,3608,1865,3574,1862,3536,1881,3491,1897,3454,1921,3438,1926,3388,1937,3340,1931,3301,1931,3256,1921,3205,1915,3144,1897,3107,1892,3089,1873,3115,1849,3129,1815,3126,1801,3099,1804,3068,1799,3049,1775,3038,1756,3017,1746,2996,1751,2970,1770,2948,1759,2933,1751,2911,1751,2882,1735,2856,1717,2850,1690,2842,1666,2842,1648,2856,1635,2877,1629,2898,1629,2925,1621,2940,1616,2956,1627,2975,1642,2991,1648,3004,1656,3025,1656,3038,1640,3054,1605,3084,1582,3102,1566,3129,1563,3176,1571,3242,1576,3285,1576,3322,1587,3362,1587,3404,1587,3460,1582,3489,1571,3526,1584,3592,1595,3685,1589,3719,1597,3862,1608,3918,1608,3968,1613,3984,1648,3987,1693,3992",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/ANAND.JPG",
            "./images/ANAND1.jpg",
            "./images/ANAND2.jpg",
            "./images/ANAND3.JPG",
            "./images/ANAND4.jpg",
          ],
          name: "ANAND VISWANATH",
          id: "6",
          coords:
            "1926,3998,1912,3948,1928,3911,1926,3842,1926,3794,1920,3731,1918,3680,1915,3627,1907,3590,1912,3550,1923,3460,1928,3347,1923,3286,1918,3201,1907,3153,1920,3145,1947,3143,1971,3129,1971,3105,1973,3087,1979,3058,1963,3037,1950,2999,1950,2965,1950,2936,1979,2912,2016,2894,2056,2894,2082,2907,2095,2941,2114,2984,2124,3005,2114,3031,2112,3052,2098,3074,2114,3079,2127,3087,2157,3092,2183,3108,2202,3127,2223,3153,2228,3166,2231,3206,2228,3233,2226,3262,2231,3312,2228,3352,2223,3405,2212,3450,2194,3492,2188,3545,2191,3590,2188,3651,2204,3704,2207,3765,2212,3826,2220,3879,2236,3961,2226,3996",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/DIPIN.JPG",
            "./images/DIPIN1.JPG",
            "./images/DIPIN2.jpg",
            "./images/DIPIN3.jpg",
            "./images/DIPIN4.jpg",
          ],
          name: "DIPIN D S",
          id: "7",
          coords:
            "2239,3993,2239,3956,2221,3924,2226,3869,2221,3808,2221,3749,2215,3667,2202,3606,2194,3543,2213,3506,2218,3469,2223,3421,2239,3355,2242,3310,2236,3281,2236,3244,2234,3196,2231,3161,2239,3140,2258,3116,2263,3100,2250,3066,2226,3047,2218,2989,2213,2955,2223,2926,2247,2894,2274,2889,2300,2889,2321,2889,2337,2899,2364,2912,2372,2947,2364,2968,2356,3000,2358,3026,2361,3055,2372,3074,2406,3090,2435,3111,2446,3122,2467,3138,2483,3151,2499,3167,2515,3209,2568,3373,2547,3384,2525,3397,2528,3426,2523,3469,2504,3506,2507,3535,2517,3569,2523,3604,2520,3644,2523,3699,2533,3744,2536,3792,2541,3826,2544,3874,2549,3898,2549,3938,2554,3983,2554,3996,2520,3998,2411,3996,2319,3996",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/VAISHNAV.JPG",
            "./images/VAISHNAV1.JPG",
            "./images/VAISHNAV2.jpg",
            "./images/VAISHNAV3.jpg",
            "./images/VAISHNAV4.jpg",
          ],
          name: "VAISHNAV V",
          id: "8",
          coords:
            "363,3170,350,3141,350,3098,360,3043,363,2995,376,2950,379,2916,400,2889,429,2871,453,2857,490,2844,503,2831,519,2818,514,2796,490,2778,493,2749,490,2717,487,2685,493,2659,514,2648,543,2629,567,2637,585,2635,617,2643,633,2664,633,2693,633,2722,633,2751,633,2770,623,2794,612,2818,623,2844,652,2863,665,2876,678,2884,670,2908,657,2937,652,2966,646,2987,644,3014,644,3037,641,3064,646,3085,649,3104,630,3096,620,3075,614,3048,627,3035,625,3011,625,2987,630,2968,635,2947,649,2923,633,2910,622,2891,601,2878,582,2894,580,2876,567,2860,545,2865,532,2876,506,2881,490,2899,482,2912,476,2931,476,2957,484,2978,484,2997,487,3013,495,3029,503,3042,508,3055,500,3071,484,3084,455,3103,423,3103,400,3111,384,3135,368,3153",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/SABIN.JPG",
            "./images/SABIN1.jpg",
            "./images/SABIN2.JPG",
            "./images/SABIN3.jpg",
            "./images/SABIN4.jpg",
            "./images/SABIN5.jpg",
          ],
          name: "SABIN K",
          id: "9",
          coords:
            "649,3103,644,3064,644,3019,646,2989,660,2936,683,2902,694,2881,715,2865,744,2852,771,2867,784,2843,808,2817,792,2791,784,2775,779,2748,782,2717,784,2695,787,2664,803,2648,824,2645,845,2648,869,2650,882,2661,895,2669,911,2685,922,2701,914,2725,914,2743,914,2756,919,2772,903,2791,895,2804,882,2825,893,2846,906,2860,911,2881,925,2889,933,2899,933,2915,919,2934,901,2934,882,2934,853,2939,835,2958,829,2974,829,2997,835,3016,827,3045,827,3074,829,3101,816,3111,784,3130,750,3138,723,3143,694,3127",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/SARATH.JPG",
            "./images/SARATH1.JPG",
            "./images/SARATH2.jpg",
            "./images/SARATH3.jpg",
          ],
          name: "SARATH SANKAR C",
          id: "10",
          coords:
            "933,2925,938,2888,948,2861,978,2837,1007,2832,1028,2827,1047,2811,1065,2798,1057,2763,1039,2747,1041,2724,1039,2689,1039,2657,1065,2641,1102,2625,1126,2620,1145,2620,1160,2639,1174,2657,1171,2681,1179,2721,1179,2753,1166,2771,1155,2787,1155,2803,1168,2808,1179,2824,1198,2829,1213,2832,1232,2840,1248,2851,1259,2869,1269,2888,1277,2901,1277,2925,1280,2943,1285,2965,1288,2999,1277,3028,1253,3025,1237,3033,1248,3007,1251,2983,1259,2967,1259,2943,1259,2901,1243,2880,1224,2869,1208,2856,1190,2861,1168,2864,1145,2875,1118,2896,1107,2914,1100,2941,1105,2959,1105,2973,1100,2994,1113,3010,1115,3028,1097,3041,1054,3065,1023,3086,1001,3097,996,3113,986,3129,972,3137,951,3131,954,3097,970,3049,980,3020,991,2996,978,2970,956,2949",
          shape: "poly",
        },

        {
          imageUrl: [
            "./images/HARI.JPG",
            "./images/HARI1.jpg",
            "./images/HARI2.jpg",
            "./images/HARI3.jpg",
            "./images/HARI4.jpg",
            "./images/HARI5.JPG",
          ],
          name: "HARINARAYANAN",
          id: "11",
          coords:
            "1184,2825,1197,2827,1224,2833,1242,2841,1253,2857,1269,2896,1282,2941,1287,2963,1287,2994,1279,3029,1301,3031,1327,3031,1359,3023,1370,3010,1356,2992,1346,2965,1343,2947,1332,2928,1335,2891,1346,2862,1370,2841,1393,2833,1433,2830,1465,2843,1494,2851,1510,2862,1529,2862,1536,2838,1529,2812,1515,2796,1465,2782,1436,2777,1417,2788,1409,2772,1407,2751,1423,2740,1425,2722,1420,2708,1417,2687,1409,2666,1396,2645,1377,2631,1354,2623,1327,2626,1303,2642,1293,2666,1285,2690,1285,2711,1290,2732,1298,2753,1317,2769,1311,2788,1290,2788,1261,2782,1229,2782,1205,2788,1184,2796,1165,2804",
          shape: "poly",
        },

        {
          imageUrl: [
            "./images/CHRISTO.JPG",
            "./images/CHRISTO1.JPG",
            "./images/CHRISTO2.jpg",
            "./images/CHRISTO3.jpg",
            "./images/CHRISTO4.jpg",
            "./images/CHRISTO5.JPG",
          ],
          name: "CHRISTO KL",
          id: "12",
          coords:
            "1476,3026,1497,3036,1516,3023,1545,3018,1579,3018,1614,3018,1645,3018,1640,2997,1622,2986,1616,2954,1624,2938,1624,2912,1627,2883,1638,2862,1651,2848,1667,2846,1688,2843,1712,2843,1736,2851,1754,2856,1751,2891,1762,2904,1781,2901,1802,2891,1810,2872,1778,2862,1627,2843,1640,2819,1640,2798,1653,2787,1651,2758,1653,2732,1664,2716,1651,2697,1622,2676,1592,2668,1561,2666,1521,2674,1502,2697,1494,2719,1494,2737,1513,2756,1529,2772,1518,2801,1532,2809,1529,2830,1534,2841,1539,2857,1521,2870,1521,2886,1529,2910,1521,2925,1510,2941,1510,2963,1497,2984,1483,3000",
          shape: "poly",
        },

        {
          imageUrl: ["./images/TITTU.JPG", "./images/TITTU2.jpg", "./images/TITTU3.jpg", "./images/TITTU4.JPG"],
          name: "TITTU THOMAS GEORGY",
          id: "11",
          coords:
            "1765,2923,1781,2918,1810,2902,1810,2886,1820,2859,1810,2838,1797,2814,1781,2796,1775,2769,1786,2753,1773,2719,1786,2690,1807,2661,1836,2653,1863,2653,1887,2658,1908,2682,1918,2703,1913,2737,1924,2767,1910,2785,1903,2801,1903,2822,1913,2843,1932,2857,1942,2867,1932,2891,1929,2910,1942,2910,1961,2907,1961,2926,1950,2941,1948,2968,1942,2997,1948,3021,1956,3039,1961,3055,1966,3082,1934,3077,1918,3087,1908,3108,1895,3098,1881,3071,1876,3042,1863,3031,1847,3021,1810,3002,1794,2992,1778,2989,1759,2989,1767,2973,1773,2955",
          shape: "poly",
        },
        {
          imageUrl: [
            "./images/SANDEEP.JPG",
            "./images/SANDEEP1.JPG",
            "./images/SANDEEP2.jpg",
            "./images/SANDEEP3.jpg",
            "./images/SANDEEP4.jpg",
            "./images/SANDEEP5.JPG",
            "./images/SANDEEP6.jpg",
          ],
          name: "SANDEEP BHUVANADAS",
          id: "3",
          coords:
            "2029,2862,2056,2851,2069,2830,2077,2796,2059,2788,2051,2759,2037,2729,2037,2679,2061,2653,2080,2642,2098,2637,2125,2634,2146,2634,2170,2647,2183,2658,2204,2679,2210,2703,2212,2722,2194,2748,2191,2772,2175,2793,2186,2809,2202,2814,2218,2830,2249,2830,2273,2838,2300,2849,2332,2862,2350,2886,2366,2910,2385,2936,2398,2976,2419,3013,2438,3047,2453,3076,2477,3108,2491,3122,2501,3145,2488,3153,2448,3124,2416,3098,2382,3090,2369,3063,2353,3026,2358,2994,2361,2965,2369,2941,2350,2904,2326,2886,2310,2886,2284,2891,2260,2891,2231,2894,2212,2915,2207,2939,2207,2971,2215,3000,2218,3023,2223,3055,2241,3069,2252,3079,2252,3100,2247,3119,2239,3135,2226,3143,2204,3127,2188,3106,2167,3090,2138,3076,2114,3071,2104,3055,2125,3026,2138,2994,2127,2965,2109,2947,2109,2925,2093,2894,2072,2886,2043,2878",
          shape: "poly",
        },

        // Add more student objects here
      ];

      const mapElement = document.getElementById("peoplemap");

      // Dynamically populate the <map> element with <area> elements
      studentData.forEach((student) => {
        const area = document.createElement("area");
        area.setAttribute("target", "");
        area.setAttribute("alt", student.name);
        area.dataset.id = student.id;
        area.dataset.name = student.name;
        area.dataset.img = JSON.stringify(student.imageUrl); // store array as JSON
        area.setAttribute("coords", student.coords);
        area.setAttribute("shape", student.shape);
        mapElement.appendChild(area);
      });

      const tooltip = document.getElementById("tooltip");
      const tooltipImage = document.getElementById("tooltip-image");
      const tooltipName = document.getElementById("tooltip-name");
      const image = document.getElementById("groupPhoto");
      const areas = document.querySelectorAll("area");
      const spinner = document.getElementById("tooltip-spinner");

      // Disable click event on the image
      image.addEventListener("click", (event) => {
        event.stopPropagation();
        event.preventDefault();
      });
      areas.forEach((area) => {
        let currentImageIndex = 0;
        let slideshowInterval;
        const action = () => {
           clearInterval(slideshowInterval);

          const images = JSON.parse(area.dataset.img || "[]");
          currentImageIndex = 0;

          tooltipName.textContent = area.dataset.name;
          tooltip.style.display = "block";
          spinner.style.display = "block";
          tooltipImage.style.display = "none";

          tooltipImage.src = images[currentImageIndex];
          tooltipImage.onload = () => {
            spinner.style.display = "none";
            tooltipImage.style.display = "block";
            tooltipImage.classList.remove("hidden");
          };

          slideshowInterval = setInterval(() => {
            tooltipImage.classList.add("hidden");

            setTimeout(() => {
              currentImageIndex = (currentImageIndex + 1) % images.length;
              tooltipImage.src = images[currentImageIndex];
            }, 500); // after 0.3s fade out, change image

            setTimeout(() => {
              tooltipImage.classList.remove("hidden"); // start fade in
            }, 600); // fade in starts after new image loads
          }, 3000);
        };

        area.addEventListener("mouseenter", () => action());

        area.addEventListener("mouseleave", () => {
          if (slideshowInterval) {
            clearInterval(slideshowInterval);
            slideshowInterval = null;
          }
          tooltip.style.display = "none";
        });
        area.addEventListener("onclick", () => action());
      });
    </script>
  </body>
</html>
